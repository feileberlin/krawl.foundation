# ============================================================================
# KRAWL.FOUNDATION - Jekyll Konfiguration
# ============================================================================
# Diese Datei steuert das gesamte Jekyll-Build-System.
# Jede Einstellung ist ausf√ºhrlich kommentiert f√ºr Anf√§nger.
#
# Dokumentation: https://jekyllrb.com/docs/configuration/
# ============================================================================

# ----------------------------------------------------------------------------
# SITE METADATA (Sichtbar in HTML <head>, RSS Feeds, etc.)
# ----------------------------------------------------------------------------

title: "krawl.foundation"
description: >
  Lernprojekt: Event-Plattform von Grund auf neu strukturiert.
  KISS-Prinzip, debugfreundlich, zukunftssicher.

# WICHTIG: F√ºr GitHub Pages muss dies mit deinem Repository-Namen √ºbereinstimmen
# Format: https://username.github.io/repository-name/
# F√ºr Custom Domain (z.B. krawl.foundation): baseurl: ""
baseurl: ""

# URL deiner Website (ohne baseurl)
# F√ºr GitHub Pages: https://username.github.io
# F√ºr Custom Domain: https://krawl.foundation
url: "https://feileberlin.github.io"

# Autor-Informationen (f√ºr Meta-Tags, RSS)
author:
  name: "Stefan Schmitt"
  email: ""  # Optional
  github: "feileberlin"

# Zeitzone (f√ºr Datum/Zeit in Posts)
# Liste: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
timezone: Europe/Berlin

# Sprache der Website (f√ºr <html lang="...">)
lang: de

# ----------------------------------------------------------------------------
# BUILD SETTINGS
# ----------------------------------------------------------------------------

# Markdown-Processor (Standardm√§√üig: kramdown)
markdown: kramdown

# Syntax-Highlighting (f√ºr Code-Bl√∂cke in Markdown)
highlighter: rouge

# Jekyll Theme (wir nutzen KEIN vorgefertigtes Theme)
# theme: none  # Kommentiert = Eigenes Layout

# Permalink-Struktur f√ºr Posts/Events
# :title = Dateiname ohne Datum
# :categories = Kategorien aus Frontmatter
permalink: /events/:title/

# ----------------------------------------------------------------------------
# COLLECTIONS (Custom Content-Types)
# ----------------------------------------------------------------------------
# Collections sind wie Posts, aber f√ºr eigene Content-Typen.
# Hier: Events sind Markdown-Dateien in _events/

collections:
  events:
    output: true          # Erstellt HTML-Seiten f√ºr jedes Event
    permalink: /events/:title/
    sort_by: date         # Sortierung nach Datum

# ----------------------------------------------------------------------------
# DEFAULTS (Frontmatter-Vorgaben f√ºr alle Dateien)
# ----------------------------------------------------------------------------
# Spart Copy-Paste in jedem Event - Layout wird automatisch gesetzt

defaults:
  - scope:
      path: ""           # Gilt f√ºr alle Dateien
      type: "events"     # ...vom Typ "events"
    values:
      layout: "event"    # Nutze _layouts/event.html
      published: false   # Standardm√§√üig Entwurf (Sicherheit!)

  - scope:
      path: ""
      type: "posts"      # Falls wir sp√§ter Blog-Posts haben
    values:
      layout: "post"

# ----------------------------------------------------------------------------
# PLUGINS (Jekyll-Erweiterungen)
# ----------------------------------------------------------------------------
# Plugins erweitern Jekyll um zus√§tzliche Features.
# GitHub Pages erlaubt nur bestimmte Plugins:
# https://pages.github.com/versions/

plugins:
  - jekyll-feed        # RSS Feed Generator
  - jekyll-sitemap     # Sitemap.xml f√ºr Suchmaschinen
  - jekyll-seo-tag     # SEO Meta-Tags

# jekyll-feed Konfiguration
feed:
  path: feed.xml
  collections:
    events:
      path: /events/feed.xml

# ----------------------------------------------------------------------------
# EXCLUDE FILES (Nicht in _site/ kopieren)
# ----------------------------------------------------------------------------
# Diese Dateien sollen NICHT ver√∂ffentlicht werden

exclude:
  - README.md
  - CONTRIBUTING.md
  - LICENSE
  - Gemfile
  - Gemfile.lock
  - node_modules/
  - vendor/
  - scripts/           # Development-Scripts
  - docs/              # Developer-Dokumentation
  - .env               # Environment-Variablen (Secrets!)
  - .env.example
  - "*.sh"             # Shell-Scripts
  - "*.py"             # Python-Scripts
  - .git/
  - .github/

# ----------------------------------------------------------------------------
# INCLUDE FILES (Explizit INcludieren, trotz Punkt-Prefix)
# ----------------------------------------------------------------------------
# Dateien mit . am Anfang werden normalerweise ignoriert

include:
  - .htaccess          # Falls Apache-Server
  - .well-known/       # F√ºr Webfinger (Federation)

# ----------------------------------------------------------------------------
# SASS/SCSS SETTINGS (CSS-Preprocessing)
# ----------------------------------------------------------------------------

sass:
  style: compressed    # Komprimiert CSS (kleinere Dateien)
  # Alternative: expanded (f√ºr Debugging)

# ----------------------------------------------------------------------------
# CUSTOM VARIABLES (Projekt-spezifisch)
# ----------------------------------------------------------------------------
# Diese Variablen kannst du in Liquid-Templates nutzen: {{ site.project.version }}

project:
  version: "0.1.0-alpha"
  status: "In Entwicklung"
  phase: "Foundation"

# Debug-Modus (ausf√ºhrliche Logs, Test-Daten sichtbar)
debug: true

# GitHub-Integration
github:
  repository: "feileberlin/krawl.foundation"
  branch: "main"

# Community-Einstellungen (sp√§ter f√ºr Multi-Community-Support)
community:
  name: "krawl.foundation"
  tagline: "Event-Plattform f√ºr alle"

# Karten-Integration (Event Map - Phase 1)
map:
  enabled: true
  
  # Default Center & Zoom
  center:
    lat: 52.5200      # Berlin Town Hall
    lng: 13.4050
    label: "Town Hall"
  zoom: 13
  
  # Tile Provider (CartoDB Dark Matter)
  tiles:
    url: 'https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png'
    attribution: '¬© OpenStreetMap'
    maxZoom: 19
  
  # Location Presets
  locations:
    - name: "Town Hall"
      id: "townHall"
      lat: 52.5200
      lng: 13.4050
    - name: "Central Station"
      id: "centralStation"
      lat: 52.5251
      lng: 13.3694
  
  # Categories
  categories:
    - id: "dancefloor"
      label: "Dancefloor"
      icon: "üï∫"
    - id: "onStage"
      label: "On Stage"
      icon: "üé≠"
    - id: "exhibitions"
      label: "Exhibitions"
      icon: "üñºÔ∏è"
    - id: "markets"
      label: "Markets"
      icon: "üõçÔ∏è"
    - id: "concerts"
      label: "Concerts"
      icon: "üéµ"
    - id: "education"
      label: "Education"
      icon: "üìö"
    - id: "withChildren"
      label: "With Children"
      icon: "üë®‚Äçüë©‚Äçüëß"
  
  # Time Filters
  time_filters:
    - id: "tillSunrise"
      label: "till sunrise"
      hours: 12
    - id: "thisWeek"
      label: "this week"
      days: 7
    - id: "tillFullMoon"
      label: "till full moon"
      dynamic: true
    - id: "withoutLimit"
      label: "without limit"
      unlimited: true
  
  # Distance Filters
  distance_filters:
    - id: "withinOneKm"
      label: "within 1km"
      meters: 1000
    - id: "withinThreeKm"
      label: "within 3km"
      meters: 3000
    - id: "withinTenKm"
      label: "within 10km"
      meters: 10000
    - id: "geoLocation"
      label: "from my location"
      use_geolocation: true
  
  # Default Filter Values
  defaults:
    category: "all"
    time: "tillSunrise"
    distance: "withinThreeKm"
    location: "townHall"

# Feature-Flags (Features an/aus schalten ohne Code zu √§ndern)
features:
  bookmarks: false     # Bookmark-System
  search: false        # Suche
  filters: false       # Event-Filter
  rss: true           # RSS-Feed (via jekyll-feed)
  federation: false    # ActivityPub (v2.0+)

# ----------------------------------------------------------------------------
# DEVELOPMENT SETTINGS
# ----------------------------------------------------------------------------

# Live-Reload im Browser beim Speichern (nur lokal)
livereload: true

# Zeige Entw√ºrfe (published: false) im lokalen Build
show_drafts: true

# Zeige zuk√ºnftige Posts (date > heute)
future: true

# Incremental Build (nur ge√§nderte Dateien)
# ACHTUNG: Kann manchmal zu Inkonsistenzen f√ºhren
incremental: false

# Verbose Output (ausf√ºhrliche Build-Logs)
# Hilfreich f√ºr Debugging
# verbose: true

# ----------------------------------------------------------------------------
# ENDE DER KONFIGURATION
# ----------------------------------------------------------------------------
# Nach √Ñnderungen: Jekyll-Server neu starten (Ctrl+C, dann ./scripts/dev.sh)
# _config.yml wird NICHT live-reloaded!
